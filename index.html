<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Emergency ICE Know-Your-Rights quick actions, scripts, and NJ/NYC resources." />
  <title>Emergency ICE Info (NJ/NYC)</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#121a33;
      --text:#e9eefc;
      --muted:#b9c4e6;
      --accent:#6ee7ff;
      --warn:#ffcc66;
      --danger:#ff6b6b;
      --ok:#7CFFB2;
      --border: rgba(255,255,255,.10);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 16px;
      --radius2: 22px;
      --font: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--font);
      background: radial-gradient(1200px 900px at 10% 0%, rgba(110,231,255,.12), transparent 55%),
                  radial-gradient(1200px 900px at 90% 20%, rgba(255,204,102,.10), transparent 55%),
                  var(--bg);
      color:var(--text);
      line-height:1.35;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    header{
      position:sticky; top:0; z-index:10;
      backdrop-filter: blur(10px);
      background: rgba(11,16,32,.75);
      border-bottom: 1px solid var(--border);
    }
    .wrap{max-width:980px; margin:0 auto; padding:14px 14px;}
    .topbar{
      display:flex; align-items:center; gap:10px; justify-content:space-between;
    }
    .brand{display:flex; align-items:center; gap:10px;}
    .badge{
      width:36px; height:36px; border-radius:12px;
      display:grid; place-items:center;
      background: linear-gradient(135deg, rgba(110,231,255,.25), rgba(255,204,102,.18));
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      font-weight:800;
    }
    .brand h1{font-size:16px; margin:0}
    .brand p{margin:0; font-size:12px; color:var(--muted)}
    .actions{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;}
    button, .btn{
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      font-weight:650;
      cursor:pointer;
      transition: transform .05s ease, background .15s ease;
    }
    button:active, .btn:active{transform:scale(.98)}
    .btn-accent{background: rgba(110,231,255,.14); border-color: rgba(110,231,255,.25)}
    .btn-warn{background: rgba(255,204,102,.14); border-color: rgba(255,204,102,.25)}
    .btn-danger{background: rgba(255,107,107,.14); border-color: rgba(255,107,107,.25)}
    main{padding: 14px 0 60px;}
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }
    @media(min-width: 860px){
      .grid{grid-template-columns: 1.1fr .9fr;}
    }
    .card{
      background: rgba(18,26,51,.75);
      border: 1px solid var(--border);
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      padding: 14px;
    }
    .card h2{
      margin:0 0 8px;
      font-size: 16px;
      letter-spacing:.2px;
    }
    .card h3{
      margin: 14px 0 8px;
      font-size: 14px;
      color: var(--text);
    }
    .muted{color:var(--muted)}
    .pillrow{display:flex; gap:8px; flex-wrap:wrap; margin-top:10px;}
    .pill{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      color: var(--muted);
    }
    .callgrid{
      display:grid; gap:10px;
      grid-template-columns: 1fr;
    }
    @media(min-width: 560px){
      .callgrid{grid-template-columns: 1fr 1fr;}
    }
    .call{
      border:1px solid var(--border);
      border-radius: var(--radius);
      padding: 12px;
      background: rgba(255,255,255,.04);
    }
    .call strong{display:block; font-size:13px; margin-bottom:4px;}
    .call .meta{font-size:12px; color:var(--muted); margin-bottom:10px;}
    .call .row{display:flex; gap:8px; flex-wrap:wrap;}
    .big{
      display:grid; gap:10px;
      grid-template-columns: 1fr;
    }
    @media(min-width: 560px){
      .big{grid-template-columns: 1fr 1fr;}
    }
    .big .btn{
      display:block;
      text-align:center;
      padding:14px 12px;
      border-radius: 16px;
      font-size:14px;
    }
    .kyr{
      border-left: 4px solid var(--accent);
      padding: 10px 12px;
      background: rgba(110,231,255,.08);
      border-radius: 12px;
      margin: 10px 0;
    }
    .warning{
      border-left: 4px solid var(--warn);
      padding: 10px 12px;
      background: rgba(255,204,102,.10);
      border-radius: 12px;
      margin: 10px 0;
    }
    .danger{
      border-left: 4px solid var(--danger);
      padding: 10px 12px;
      background: rgba(255,107,107,.10);
      border-radius: 12px;
      margin: 10px 0;
    }
    .checklist li{margin: 8px 0}
    details{
      border:1px solid var(--border);
      border-radius: 14px;
      padding: 10px 12px;
      background: rgba(255,255,255,.03);
      margin: 10px 0;
    }
    summary{cursor:pointer; font-weight:700}
    .script{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-size: 13px;
      background: rgba(0,0,0,.30);
      border: 1px solid var(--border);
      padding: 10px;
      border-radius: 12px;
      white-space: pre-wrap;
    }
    footer{
      margin-top: 14px;
      padding: 18px 14px;
      color: var(--muted);
      font-size: 12px;
      border-top: 1px solid var(--border);
    }
    .tiny{font-size:12px}
    .inline{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
    }
    input[type="text"], textarea{
      width:100%;
      background: rgba(255,255,255,.06);
      border: 1px solid var(--border);
      color: var(--text);
      border-radius: 12px;
      padding: 10px 12px;
      font-family: var(--font);
    }
    textarea{min-height:90px; resize:vertical}
  </style>
</head>
<body>
<header>
  <div class="wrap topbar">
    <div class="brand">
      <div class="badge">ICE</div>
      <div>
        <h1>Emergency ICE Info (NJ / NYC)</h1>
        <p class="muted">Quick actions • scripts • local legal help</p>
      </div>
    </div>
    <div class="actions">
      <button class="btn btn-accent" id="shareBtn" title="Share this page">Share</button>
      <button class="btn btn-warn" id="printBtn" title="Print / save as PDF">Print</button>
      <button class="btn" id="copyLinkBtn" title="Copy link">Copy Link</button>
    </div>
  </div>
</header>

<main class="wrap">
  <div class="grid">
    <!-- LEFT: Emergency actions -->
    <section class="card">
      <h2>Do this first (if ICE shows up)</h2>
      <div class="danger"><strong>Don’t open the door.</strong> Ask for a <strong>judge-signed warrant</strong> (judicial warrant). You can speak through the door.</div>

      <div class="big">
        <a class="btn btn-danger" href="#door">ICE at the door → scripts</a>
        <a class="btn btn-accent" href="#hotlines">Call legal help → numbers</a>
      </div>

      <div class="kyr">
        <strong>Core rights (quick):</strong>
        <ul class="checklist">
          <li><strong>Right to remain silent.</strong> You don’t have to answer questions.</li>
          <li><strong>Don’t consent</strong> to entry or searches without a judge-signed warrant.</li>
          <li><strong>Don’t sign</strong> anything without a lawyer.</li>
          <li><strong>Record safely</strong> if you can (don’t interfere).</li>
        </ul>
      </div>

      <details>
        <summary>What counts as a “warrant”?</summary>
        <p class="muted tiny">
          A “judicial warrant” is signed by a judge and typically says “U.S. District Court” / has a judge’s signature.
          Many ICE papers are <em>administrative</em> warrants (often on DHS forms) and do not by themselves authorize entry into a home without consent.
        </p>
      </details>

      <details>
        <summary>What to gather (after the immediate moment)</summary>
        <ul class="checklist">
          <li>Names/badge numbers, agency, time/location, what was said.</li>
          <li>Photos of documents shown at the door (if safe).</li>
          <li>Video from a safe distance.</li>
        </ul>
      </details>

      <h3>Personal emergency contacts (editable)</h3>
      <p class="muted tiny">These save in your browser on this device (localStorage). Add your attorney, family contacts, etc.</p>
      <div class="inline">
        <input id="contactName" type="text" placeholder="Name (e.g., Cousin Maria / Lawyer)" />
        <input id="contactPhone" type="text" placeholder="Phone (e.g., 201-555-1234)" />
        <button class="btn btn-accent" id="addContactBtn">Add</button>
      </div>
      <div id="contactList" class="pillrow" aria-live="polite"></div>

    </section>

    <!-- RIGHT: Hotlines / Quick calls -->
    <aside class="card" id="hotlines">
      <h2>NYC + NJ quick legal help</h2>
      <p class="muted tiny">If you’re witnessing an active situation, call first. If someone is detained, gather full name + DOB + A-number (if any).</p>

      <div class="callgrid">
        <div class="call">
          <strong>NYC MOIA Immigration Legal Support Hotline</strong>
          <div class="meta">NYC • legal support, multilingual</div>
          <div class="row">
            <a class="btn btn-accent" href="tel:18003540365">Call 800-354-0365</a>
          </div>
        </div>

        <div class="call">
          <strong>Immigrant Defense Project Helpline</strong>
          <div class="meta">NYC • legal resource / reporting support</div>
          <div class="row">
            <a class="btn btn-accent" href="tel:12127256422">Call 212-725-6422</a>
          </div>
        </div>

        <div class="call">
          <strong>ICE ERO Detention Reporting / Info (ICE Community Helpline)</strong>
          <div class="meta">Info for detained individuals (hours vary)</div>
          <div class="row">
            <a class="btn btn-warn" href="tel:18883514024">Call 888-351-4024</a>
          </div>
        </div>

        <div class="call">
          <strong>“Help My Family” hotline (detained loved one)</strong>
          <div class="meta">Family support & guidance</div>
          <div class="row">
            <a class="btn btn-warn" href="tel:18554357693">Call 855-435-7693</a>
          </div>
        </div>
      </div>

      <details>
        <summary>Find local free/low-cost immigration legal services</summary>
        <p class="muted tiny">Use ImmigrationLawHelp.org to find nonprofit providers by ZIP/city (NJ and NY listings).</p>
      </details>

      <div class="pillrow">
        <span class="pill">Tip: Save this page to Home Screen</span>
        <span class="pill">Tip: Screenshot key scripts</span>
        <span class="pill">Tip: Add your lawyer number above</span>
      </div>
    </aside>
  </div>

  <!-- Scripts & sections -->
  <section class="card" id="door">
    <h2>If ICE is at the door</h2>
    <div class="warning">
      <strong>Do not open the door.</strong> Speak through the door. Ask them to slide paperwork under the door or hold it up to a window.
      If they don’t have a judge-signed warrant, you can refuse entry.
    </div>

    <h3>Door script (short)</h3>
    <div class="script">I do not consent to you entering my home.
Please show me a warrant signed by a judge.
If you do not have a judge-signed warrant, I will not open the door.</div>

    <h3>If they claim they have a warrant</h3>
    <div class="script">Please hold the warrant to the window / slide it under the door.
I am checking whether it is signed by a judge and has the correct address and name.</div>

    <h3>If they enter anyway</h3>
    <div class="script">I do not consent to your entry or search.
I am exercising my right to remain silent.
I want to speak to a lawyer.</div>

    <details>
      <summary>What to check on paperwork</summary>
      <ul class="checklist">
        <li>Is it signed by a <strong>judge</strong> (not an ICE/DHS officer)?</li>
        <li>Does it list the <strong>correct address</strong>?</li>
        <li>Does it name the person they’re seeking?</li>
      </ul>
    </details>
  </section>

  <section class="card" id="public">
    <h2>If ICE is in public or at work</h2>
    <div class="kyr">
      <strong>Key moves:</strong> Ask if you’re free to leave, stay silent, don’t hand over documents you’re not legally required to, and ask for a lawyer.
    </div>

    <h3>Public script</h3>
    <div class="script">Am I free to leave?
I am exercising my right to remain silent.
I want to speak to a lawyer.</div>

    <details>
      <summary>If you’re witnessing an encounter</summary>
      <ul class="checklist">
        <li>Record from a safe distance; do not physically interfere.</li>
        <li>Note: time, place, badge numbers, vehicles, what was said.</li>
        <li>Call a hotline/attorney as soon as possible.</li>
      </ul>
    </details>
  </section>

  <section class="card" id="detained">
    <h2>If someone is detained</h2>
    <div class="danger">
      <strong>Don’t let them sign anything</strong> without legal advice. Collect details immediately.
    </div>

    <ul class="checklist">
      <li>Get <strong>full name</strong>, <strong>DOB</strong>, country of birth, and any <strong>A-number</strong>.</li>
      <li>Ask where they’re being taken (facility name / location).</li>
      <li>Call: MOIA (NYC), IDP, or the detention hotlines above.</li>
      <li>Use ICE detainee locator later if you have needed identifiers.</li>
    </ul>

    <details>
      <summary>What you can do as a U.S. citizen supporting someone</summary>
      <ul class="checklist">
        <li>Help them contact counsel and family quickly.</li>
        <li>Preserve evidence (video, notes, documents).</li>
        <li>Help arrange childcare / meds / work notification.</li>
      </ul>
    </details>
  </section>

  <section class="card" id="resources">
    <h2>More resources (add your own links)</h2>
    <p class="muted tiny">Paste in extra links you trust (local orgs, PDFs, KYR cards). Saved locally on this device.</p>
    <textarea id="linksBox" placeholder="Add links here (one per line)…"></textarea>
    <div class="pillrow">
      <button class="btn btn-accent" id="saveLinksBtn">Save</button>
      <button class="btn" id="clearLinksBtn">Clear</button>
    </div>

    <details>
      <summary>Printable “Know Your Rights” cards</summary>
      <p class="muted tiny">Search “Know Your Rights red card ILRC” to download/print wallet cards (multiple languages).</p>
    </details>

    <details>
      <summary>Disclaimer</summary>
      <p class="muted tiny">
        This site is general information, not legal advice. Laws and policies change; verify with a qualified attorney or local nonprofit.
        In any encounter, prioritize safety and avoid physical interference.
      </p>
    </details>
  </section>

  <footer>
    <div class="wrap" style="padding:0">
      <div class="inline">
        <span>Built for emergencies: fast, mobile-first.</span>
        <span>Last updated: <span id="lastUpdated"></span></span>
      </div>
      <div class="tiny" style="margin-top:10px">
        Tip: Host on GitHub Pages / Netlify / Vercel. Keep the page URL short. Share it with family and pin it in group chats.
      </div>
    </div>
  </footer>
</main>

<script>
  // --- Simple share/copy/print ---
  const shareBtn = document.getElementById('shareBtn');
  const copyLinkBtn = document.getElementById('copyLinkBtn');
  const printBtn = document.getElementById('printBtn');

  shareBtn?.addEventListener('click', async () => {
    const data = { title: document.title, text: "Emergency ICE Info (NJ/NYC)", url: location.href };
    try {
      if (navigator.share) await navigator.share(data);
      else alert("Sharing not supported here. Use Copy Link.");
    } catch(e) {}
  });

  copyLinkBtn?.addEventListener('click', async () => {
    try {
      await navigator.clipboard.writeText(location.href);
      copyLinkBtn.textContent = "Copied!";
      setTimeout(()=>copyLinkBtn.textContent="Copy Link", 1200);
    } catch(e){
      alert("Could not copy. Long-press the address bar and copy the link.");
    }
  });

  printBtn?.addEventListener('click', () => window.print());

  // --- Local contacts (saved in browser) ---
  const contactName = document.getElementById('contactName');
  const contactPhone = document.getElementById('contactPhone');
  const addContactBtn = document.getElementById('addContactBtn');
  const contactList = document.getElementById('contactList');

  const CONTACT_KEY = "emergency_contacts_v1";
  function loadContacts(){
    try { return JSON.parse(localStorage.getItem(CONTACT_KEY) || "[]"); }
    catch { return []; }
  }
  function saveContacts(list){
    localStorage.setItem(CONTACT_KEY, JSON.stringify(list));
  }
  function renderContacts(){
    const list = loadContacts();
    contactList.innerHTML = "";
    if(!list.length){
      const span = document.createElement('span');
      span.className = "pill";
      span.textContent = "No personal contacts saved yet";
      contactList.appendChild(span);
      return;
    }
    list.forEach((c, idx)=>{
      const pill = document.createElement('span');
      pill.className = "pill";
      pill.innerHTML = `
        <strong style="color:var(--text)">${escapeHtml(c.name)}</strong>
        <span style="margin-left:6px">${escapeHtml(c.phone)}</span>
        <button class="btn" style="margin-left:10px; padding:6px 10px" data-idx="${idx}">Remove</button>
      `;
      contactList.appendChild(pill);
      // Add tap-to-call link on phone portion
    });
    // Remove handlers
    contactList.querySelectorAll('button[data-idx]').forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        const i = Number(e.currentTarget.getAttribute('data-idx'));
        const list = loadContacts();
        list.splice(i,1);
        saveContacts(list);
        renderContacts();
      });
    });
  }
  addContactBtn?.addEventListener('click', ()=>{
    const name = (contactName.value || "").trim();
    const phone = (contactPhone.value || "").trim();
    if(!name || !phone) return alert("Add both a name and phone number.");
    const list = loadContacts();
    list.push({name, phone});
    saveContacts(list);
    contactName.value = "";
    contactPhone.value = "";
    renderContacts();
  });

  // --- Extra links box ---
  const linksBox = document.getElementById('linksBox');
  const saveLinksBtn = document.getElementById('saveLinksBtn');
  const clearLinksBtn = document.getElementById('clearLinksBtn');
  const LINKS_KEY = "emergency_links_v1";

  function loadLinks(){
    return localStorage.getItem(LINKS_KEY) || "";
  }
  function saveLinks(val){
    localStorage.setItem(LINKS_KEY, val);
  }
  saveLinksBtn?.addEventListener('click', ()=>{
    saveLinks(linksBox.value || "");
    saveLinksBtn.textContent = "Saved!";
    setTimeout(()=>saveLinksBtn.textContent="Save", 1200);
  });
  clearLinksBtn?.addEventListener('click', ()=>{
    if(confirm("Clear saved links?")){
      saveLinks("");
      linksBox.value = "";
    }
  });

  // --- Helpers ---
  function escapeHtml(str){
    return String(str).replace(/[&<>"']/g, s => ({
      "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"
    }[s]));
  }

  // Init
  document.getElementById('lastUpdated').textContent = new Date().toLocaleDateString();
  renderContacts();
  linksBox.value = loadLinks();
</script>
</body>
</html>
